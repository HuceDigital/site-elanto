import type { Payload, PayloadRequest } from "payload";

/**
 * Generated seed file for Elanto
 * Auto-generated by Velen Website Builder
 */
export const seed = async ({
  payload,
  req,
}: {
  payload: Payload;
  req: PayloadRequest;
}): Promise<void> => {
  payload.logger.info("Seeding Elanto...");

  try {
    // Create home page
    const homePage = await payload.create({
      collection: 'pages',
      data: {
        title: "Elanto",
        slug: "/",
        layout: [
    {
      blockType: "featureCard",
      id: "block-0",
      heading: "Feature Title",
      description: "Feature description goes here",
      variant: "default",
      icon: "heart"
    },
    {
      blockType: "marquee",
      id: "block-1",
      type: "style2",
      logos: [{"logo":{"id":16,"alt":"ClearPath-Logo-Final-Nov-6_Bird-blue.svg","caption":null,"_key":null,"updatedAt":"2025-12-15T20:49:50.524Z","createdAt":"2025-12-15T20:49:50.524Z","url":"/api/media/file/ClearPath-Logo-Final-Nov-6_Bird-blue-4.svg","thumbnailURL":null,"filename":"ClearPath-Logo-Final-Nov-6_Bird-blue-4.svg","mimeType":"image/svg+xml","filesize":1291,"width":183,"height":172,"focalX":null,"focalY":null,"sizes":{"thumbnail":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"square":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"small":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"medium":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"large":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"xlarge":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"og":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null}}}},{"logo":{"id":17,"alt":"ClearPath-Logo-Final-Nov-6_ClearPath-Bird-full-swoosh.svg","caption":null,"_key":null,"updatedAt":"2025-12-15T20:49:55.200Z","createdAt":"2025-12-15T20:49:55.200Z","url":"/api/media/file/ClearPath-Logo-Final-Nov-6_ClearPath-Bird-full-swoosh.svg","thumbnailURL":null,"filename":"ClearPath-Logo-Final-Nov-6_ClearPath-Bird-full-swoosh.svg","mimeType":"image/svg+xml","filesize":1585,"width":520,"height":171,"focalX":null,"focalY":null,"sizes":{"thumbnail":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"square":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"small":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"medium":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"large":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"xlarge":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null},"og":{"_key":null,"url":null,"width":null,"height":null,"mimeType":null,"filesize":null,"filename":null}}}}]
    },
    {
      blockType: "process",
      id: "block-2",
      title: "Our Process",
      type: "style2",
      steps: [{"title":"12","description":"scdscsdcdscs","color":"#000000"},{"title":"scsc","description":"sdcsdcsdcsc","color":"#4d61ff"},{"title":"asdsvs","description":"acsvsvsa","color":"#d98282"}]
    },
    {
      blockType: "faq",
      id: "block-3",
      title: "FAQ",
      type: "style2",
      questions: [{"question":"vsdsdc","answer":"sdcscscsc"},{"question":"scscs","answer":"cscscsvzcs"},{"question":"c c ","answer":"scd ds"}]
    }
        ],
        _status: 'published',
      },
    });

    payload.logger.info(`âœ“ Created home page: ${homePage.id}`);

    // Update header global
    await payload.updateGlobal({
      slug: 'header',
      data: {
        navItems: [
      {
        link: {
          type: 'custom',
          label: "Home",
          url: "/",
        }
      },
      {
        link: {
          type: 'custom',
          label: "About",
          url: "/about",
        }
      }
        ],
      },
    });

    payload.logger.info("âœ“ Updated header navigation");

    // Update footer global
    await payload.updateGlobal({
      slug: 'footer',
      data: {
        navItems: [
          {
            link: {
              type: 'custom',
              label: 'Home',
              url: '/',
            }
          }
        ],
      },
    });

    payload.logger.info("âœ“ Updated footer");

    payload.logger.info("Seeded Elanto successfully! ðŸŽ‰");
  } catch (error) {
    payload.logger.error("Seeding failed:", error);
    throw error;
  }
};
